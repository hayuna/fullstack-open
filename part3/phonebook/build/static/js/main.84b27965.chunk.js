(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(41)},19:function(e,n,t){},20:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(13),o=t.n(c),u=(t(19),t(2)),l=(t(20),t(3)),i=t.n(l),s=function(){return i.a.get("/api/persons").then((function(e){return e.data}))},m=function(e){return i.a.post("/api/persons",e).then((function(e){return e.data}))},f=function(e,n){return i.a.put("".concat("/api/persons","/").concat(e),n).then((function(e){return console.log(e.data),e.data}))},d=function(e){return i.a.delete("".concat("/api/persons","/").concat(e)).then((function(e){return e.data}))},p=(t(38),function(e){var n=e.text,t=e.handleClick;return r.a.createElement("button",{className:"button",onClick:t},n)}),h=function(e){var n=e.newName,t=e.newNumber,a=e.addPerson,c=e.handleNewNameInput,o=e.handleNewNumberInput;return r.a.createElement("div",null,r.a.createElement("h3",null,"Register User"),r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,r.a.createElement("label",null,"Name: "),r.a.createElement("input",{value:n,onChange:c})),r.a.createElement("div",null,r.a.createElement("label",null,"Number: "),r.a.createElement("input",{value:t,onChange:o})),r.a.createElement("div",null,r.a.createElement(p,{text:"Add"}))))},b=(t(39),function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("div",{className:"person__container"},r.a.createElement("span",{className:"person__info"},n.name," ",n.number),r.a.createElement(p,{text:"Delete",handleClick:function(){return t(n)}}))}),v=function(e){var n=e.persons,t=e.deletePerson;return r.a.createElement("div",null,r.a.createElement("h3",null,"Numbers"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement(b,{person:e,deletePerson:t}))}))))},E=function(e){var n=e.handleSearchInput;return r.a.createElement("div",null,r.a.createElement("h3",null,"Filter by Name"),r.a.createElement("form",null,r.a.createElement("input",{type:"search",onChange:n})))},N=(t(40),function(e){var n=e.message,t=e.type;return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("div",{className:"notification notification__".concat(t)},n))}),w=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)({message:"",type:""}),l=Object(u.a)(o,2),i=l[0],p=l[1];Object(a.useEffect)((function(){console.log("fetching data..."),s().then((function(e){var n=e.persons;c(n)}))}),[]);var b=Object(a.useState)(""),w=Object(u.a)(b,2),g=w[0],k=w[1],y=Object(a.useState)(""),j=Object(u.a)(y,2),O=j[0],C=j[1],S=Object(a.useState)({term:"",active:!1}),I=Object(u.a)(S,2),P=I[0],_=I[1],x=function(e,n){p({message:e,type:n}),setTimeout((function(){return p({message:"",type:""})}),2e3)},L=function(e){return t.find((function(n){return n.name.toLowerCase()===e.toLowerCase()}))},A=P.active?t.filter((function(e){return e.name.toLowerCase().includes(P.term)})):t;return r.a.createElement("div",{className:"App"},r.a.createElement(N,i),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(E,{handleSearchInput:function(e){var n={term:e.target.value.toLowerCase(),active:!!e.target.value};_(n)}}),r.a.createElement(h,{newName:g,newNumber:O,addPerson:function(e){e.preventDefault();var n={name:g,number:O};if(L(n.name)){var a=L(n.name);window.confirm("Would you like to update the phone number of ".concat(a.name,"?"))&&f(a.id,n).then((function(e){var n=e.person;x("The phone number of ".concat(n.name," has been successfully updated"),"successful"),c(t.map((function(e){return e.id!==n.id?e:n})))})).catch((function(e){x("".concat(a.name," has been deleted from the phone book"),"unsuccessful"),c(t.filter((function(e){return e.id!==a.id})))}))}else m(n).then((function(e){var n=e.person;x("".concat(n.name," has been successfully added to the phone book"),"successful"),c(t.concat(n))}));k(""),C("")},handleNewNameInput:function(e){k(e.target.value)},handleNewNumberInput:function(e){C(e.target.value)}}),r.a.createElement(v,{persons:A,deletePerson:function(e){window.confirm("Would you like to proceed with the deletion of ".concat(e.name,"?"))&&d(e.id).then((function(){x("".concat(e.name," has been successfully deleted from the phone book"),"successful"),c(t.filter((function(n){return n.id!==e.id})))})).catch((function(n){x("".concat(e.name," has already been removed from the server"),"unsuccessful"),c(t.filter((function(n){return n.id!==e.id})))}))}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.84b27965.chunk.js.map