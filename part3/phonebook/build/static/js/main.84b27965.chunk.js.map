{"version":3,"sources":["services/persons.js","Button.js","PersonForm.js","Person.js","Persons.js","SearchForm.js","Notification.js","App.js","index.js"],"names":["axios","get","then","res","data","personObj","post","id","put","console","log","delete","Button","text","handleClick","className","onClick","PersonForm","newName","newNumber","addPerson","handleNewNameInput","handleNewNumberInput","onSubmit","value","onChange","Person","person","deletePerson","name","number","Persons","persons","map","key","SearchForm","handleSearchInput","type","Notification","message","App","useState","setPersons","notification","setNotification","useEffect","personsServices","setNewName","setNewNumber","term","active","search","setSearch","displayNotification","setTimeout","personExists","find","toLowerCase","personsToShow","filter","includes","e","newSearch","target","preventDefault","newPerson","foundPerson","window","confirm","entry","catch","err","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.84b27965.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = `/api/persons`;\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(BASE_URL);\r\n\r\n    return request.then((res) => {\r\n        return res.data;\r\n    });\r\n};\r\n\r\nconst createOne = (personObj) => {\r\n    const request = axios.post(BASE_URL, personObj);\r\n\r\n    return request.then((res) => {\r\n        return res.data;\r\n    });\r\n};\r\n\r\nconst updateOne = (id, personObj) => {\r\n    const request = axios.put(`${BASE_URL}/${id}`, personObj);\r\n\r\n    return request.then((res) => {\r\n        console.log(res.data);\r\n        return res.data;\r\n    });\r\n};\r\n\r\nconst deleteOne = (id) => {\r\n    const request = axios.delete(`${BASE_URL}/${id}`);\r\n\r\n    return request.then((res) => {\r\n        return res.data;\r\n    });\r\n};\r\n\r\nexport default { getAll, createOne, updateOne, deleteOne };\r\n","import React from \"react\";\r\nimport \"./Button.css\";\r\n\r\nconst Button = ({ text, handleClick }) => {\r\n    return (\r\n        <button className=\"button\" onClick={handleClick}>\r\n            {text}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nconst PersonForm = ({\r\n    newName,\r\n    newNumber,\r\n    addPerson,\r\n    handleNewNameInput,\r\n    handleNewNumberInput,\r\n}) => {\r\n    return (\r\n        <div>\r\n            <h3>Register User</h3>\r\n            <form onSubmit={addPerson}>\r\n                <div>\r\n                    <label>Name: </label>\r\n                    <input value={newName} onChange={handleNewNameInput} />\r\n                </div>\r\n                <div>\r\n                    <label>Number: </label>\r\n                    <input value={newNumber} onChange={handleNewNumberInput} />\r\n                </div>\r\n                <div>\r\n                    <Button text=\"Add\" />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\nimport \"./Person.css\";\r\nimport Button from \"./Button\";\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n    return (\r\n        <div className=\"person__container\">\r\n            <span className=\"person__info\">\r\n                {person.name} {person.number}\r\n            </span>\r\n            <Button text=\"Delete\" handleClick={() => deletePerson(person)} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ persons, deletePerson }) => {\r\n    return (\r\n        <div>\r\n            <h3>Numbers</h3>\r\n            <ul>\r\n                {persons.map((person) => {\r\n                    return (\r\n                        <li key={person.name}>\r\n                            <Person\r\n                                person={person}\r\n                                deletePerson={deletePerson}\r\n                            />\r\n                        </li>\r\n                    );\r\n                })}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst SearchForm = ({ handleSearchInput }) => {\r\n    return (\r\n        <div>\r\n            <h3>Filter by Name</h3>\r\n\r\n            <form>\r\n                <input type=\"search\" onChange={handleSearchInput} />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\nimport \"./Notification.css\";\r\n\r\nconst Notification = ({ message, type }) => {\r\n    return (\r\n        <>\r\n            {message && (\r\n                <div className={`notification notification__${type}`}>\r\n                    {message}\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport personsServices from \"./services/persons\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport SearchForm from \"./SearchForm\";\nimport Notification from \"./Notification\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [notification, setNotification] = useState({\n        message: \"\",\n        type: \"\",\n    });\n\n    useEffect(() => {\n        console.log(\"fetching data...\");\n\n        personsServices.getAll().then(({ persons }) => {\n            setPersons(persons);\n        });\n    }, []);\n\n    const [newName, setNewName] = useState(\"\");\n    const [newNumber, setNewNumber] = useState(\"\");\n    const [search, setSearch] = useState({ term: \"\", active: false });\n\n    const addPerson = (e) => {\n        e.preventDefault();\n\n        const newPerson = {\n            name: newName,\n            number: newNumber,\n        };\n\n        if (personExists(newPerson.name)) {\n            const foundPerson = personExists(newPerson.name);\n\n            const confirmUpdate = window.confirm(\n                `Would you like to update the phone number of ${foundPerson.name}?`\n            );\n\n            if (confirmUpdate) {\n                personsServices\n                    .updateOne(foundPerson.id, newPerson)\n                    .then(({ person }) => {\n                        displayNotification(\n                            `The phone number of ${person.name} has been successfully updated`,\n                            \"successful\"\n                        );\n                        setPersons(\n                            persons.map((entry) => {\n                                return entry.id !== person.id ? entry : person;\n                            })\n                        );\n                    })\n                    .catch((err) => {\n                        displayNotification(\n                            `${foundPerson.name} has been deleted from the phone book`,\n                            \"unsuccessful\"\n                        );\n\n                        setPersons(\n                            persons.filter((entry) => {\n                                return entry.id !== foundPerson.id;\n                            })\n                        );\n                    });\n            }\n        } else {\n            personsServices.createOne(newPerson).then(({ person }) => {\n                displayNotification(\n                    `${person.name} has been successfully added to the phone book`,\n                    \"successful\"\n                );\n\n                setPersons(persons.concat(person));\n            });\n        }\n\n        setNewName(\"\");\n        setNewNumber(\"\");\n    };\n\n    const deletePerson = (person) => {\n        const confirmDeletion = window.confirm(\n            `Would you like to proceed with the deletion of ${person.name}?`\n        );\n\n        if (confirmDeletion) {\n            personsServices\n                .deleteOne(person.id)\n                .then(() => {\n                    displayNotification(\n                        `${person.name} has been successfully deleted from the phone book`,\n                        \"successful\"\n                    );\n                    setPersons(\n                        persons.filter((entry) => {\n                            return entry.id !== person.id;\n                        })\n                    );\n                })\n                .catch((err) => {\n                    displayNotification(\n                        `${person.name} has already been removed from the server`,\n                        \"unsuccessful\"\n                    );\n\n                    setPersons(\n                        persons.filter((entry) => {\n                            return entry.id !== person.id;\n                        })\n                    );\n                });\n        }\n    };\n\n    const displayNotification = (message, type) => {\n        setNotification({\n            message,\n            type,\n        });\n\n        setTimeout(() => setNotification({ message: \"\", type: \"\" }), 2000);\n    };\n\n    const personExists = (name) => {\n        return persons.find(\n            (person) => person.name.toLowerCase() === name.toLowerCase()\n        );\n    };\n\n    const trackSearchInput = (e) => {\n        const newSearch = {\n            term: e.target.value.toLowerCase(),\n            active: e.target.value ? true : false,\n        };\n\n        setSearch(newSearch);\n    };\n\n    const trackNewNameInput = (e) => {\n        setNewName(e.target.value);\n    };\n\n    const trackNewNumberInput = (e) => {\n        setNewNumber(e.target.value);\n    };\n\n    const filterByName = () => {\n        return persons.filter((person) => {\n            return person.name.toLowerCase().includes(search.term);\n        });\n    };\n\n    const personsToShow = search.active ? filterByName() : persons;\n\n    return (\n        <div className=\"App\">\n            <Notification {...notification} />\n\n            <h2>Phonebook</h2>\n\n            <SearchForm handleSearchInput={trackSearchInput} />\n\n            <PersonForm\n                newName={newName}\n                newNumber={newNumber}\n                addPerson={addPerson}\n                handleNewNameInput={trackNewNameInput}\n                handleNewNumberInput={trackNewNumberInput}\n            />\n\n            <Persons persons={personsToShow} deletePerson={deletePerson} />\n        </div>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}